@layer components {
  // ============================================
  // BOUTONS
  // ============================================

  .btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 13px 25px;
    border-radius: 15px;
    background: linear-gradient(
        to bottom,
        #f05d23,
        #f08300
    );

    color: #ffffff;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.75);
    transition:
            transform 0.2s ease,
            box-shadow 0.2s ease;

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    }

    &:active {
      transform: scale(0.98);
    }

    &:focus-visible {
      outline: 3px solid #ffffff;
      outline-offset: 3px;
    }
  }

  // ============================================
  // INPUTS / FORMULAIRES
  // ============================================

  /* Style réutilisable pour les inputs sombres */
  .ttt-input-dark {
    // 1. Style de base obligatoire pour contrer le "border-0" du DOM
    input {
      @apply bg-ttt-dark-grey text-white rounded-md transition-all;
      border: 1px solid #374151 !important; // gray-700
      outline: none !important;
      box-shadow: none !important;

      &:focus {
        border-color: #f05d23 !important; // orange
        box-shadow: 0 0 0 1px #f05d23 !important;
      }
    }

    // 2. DÉTECTION DE L'ERREUR
    // On utilise :has() pour vérifier si un message d'erreur existe dans le parent
    // OU si l'icône à l'intérieur est devenue rouge
    &:has(~ p.text-red-500),
    &:has(.text-red-500) {
      input {
        border-color: #ef4444 !important; // rouge
        box-shadow: 0 0 0 1px #ef4444 !important;
      }
    }
  }

  // Si :has() n'est pas supporté ou ne suffit pas : on cible l'input si un message d'erreur (p) est son frère suivant
  .mt-1:has(p.text-red-500) .ttt-input-dark input {
    border-color: #ef4444 !important;
    box-shadow: 0 0 0 1px #ef4444 !important;
  }

  /** <UDivider> */
  .ttt-divider {
    div.border-gray-200,
    div.dark\:border-gray-800 {
      // force la couleur grise du séparateur
      border-color: #333333 !important;
      border-top-width: 2px !important;
    }

    // styliser le texte "ou"
    span {
      @apply text-gray-300 text-xs uppercase font-bold tracking-widest;
    }
  }

  /* Label de formulaire */
  .ttt-form-label {
    @apply text-gray-300 font-medium mb-2 block text-base;
  }

  /* CLASSE GLOBALE POUR SUPPRIMER LES BORDURES BLEUES SUR TOUS LES INPUTS */
  .ttt-form-no-blue {
    /* Supprime les rings sur les inputs */
    input,
    textarea,
    select {
      --tw-ring-color: transparent !important;
      --tw-ring-shadow: none !important;
      outline: none !important;
      box-shadow: none !important;

      &:focus,
      &:focus-visible,
      &:active {
        --tw-ring-color: transparent !important;
        --tw-ring-shadow: none !important;
        outline: none !important;
        box-shadow: none !important;
      }
    }

    /* Supprime aussi le ring bleu de Nuxt UI */
    [class*="ring-primary"],
    [class*="ring-blue"] {
      --tw-ring-color: transparent !important;
    }
  }

  // ============================================
  // CONTAINERS / LAYOUTS
  // ============================================

  .ttt-container {
    // mobile et tablette par défaut
    @apply flex flex-col items-center justify-center text-center px-[var(--content-gutter)];

    @screen lg {
      @apply text-left px-0;
    }
  }

  // ============================================
  // GRADIENTS
  // ============================================

  /* du gris sombre vers le clair */
  .bg-gradient-ttt-dark {
    @apply bg-gradient-to-b from-ttt-dark-grey via-ttt-dark-grey to-ttt-light-grey;
  }

  /* du gris clair vers le sombre */
  .bg-gradient-ttt-dark-reverse {
    @apply bg-gradient-to-b from-ttt-light-grey via-ttt-light-grey to-ttt-dark-grey;
  }

  /* Version subtile du dégradé inversé */
  .bg-gradient-ttt-dark-reverse-subtle {
    background: linear-gradient(
      to bottom,
      rgba(77, 77, 77, 0.2) 0%,
      rgba(77, 77, 77, 0.3) 50%,
      rgba(38, 38, 38, 0.8) 100%
    );
  }
}